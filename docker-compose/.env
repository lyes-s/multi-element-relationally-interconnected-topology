# COMMON
SPRING_PROFILES_ACTIVE=prod
SPRING_CLOUD_CONSUL_HOST=http://consul-server
SPRING_CLOUD_CONSUL_PORT=8500
SPRING_CLOUD_CONSUL_ENABLED=true

#Gateway
GATEWAY_HOST_PORT=8080
SPRING_CLOUD_GATEWAY_DISCOVERY_LOCATOR_ENABLED=true
SPRING_CLOUD_CONSUL_DISCOVERY_REGISTER=false
SPRING_CLOUD_CONSUL_DISCOVERY_REGISTERHEALTHCHECK=false
SPRING_CLOUD_GATEWAY_DISCOVERY_LOCATOR_LOWERCASESERVICEID=true
SPRING_CLOUD_GATEWAY_ROUTES_0_ID=network-elements
SPRING_CLOUD_GATEWAY_ROUTES_0_URI=lb://network-elements
SPRING_CLOUD_GATEWAY_ROUTES_0_PREDICATES_0=Path=/api/**
SPRING_CLOUD_GATEWAY_ROUTES_0_PREDICATES_1=Method=GET,POST,PUT,DELETE
SPRING_CLOUD_GATEWAY_ROUTES_0_METADATA_CORS_ALLOWEDORIGINS=http://localhost
SPRING_CLOUD_GATEWAY_ROUTES_0_METADATA_CORS_ALLOWEDMETHODS=GET,POST,PUT,DELETE
SPRING_CLOUD_GATEWAY_ROUTES_0_METADATA_CORS_ALLOWEDHEADERS=content-type

# Consul
CONSUL_HTTP_HOST_PORT=8500
CONSUL_UDP_HOST_PORT=8600
CONSUL_TCP_HOST_PORT=8600
CONSUL_SERVER_COMMAND=agent -bootstrap-expect=1
CONSUL_CLIENT_COMMAND=agent


# ================
# =   Zookeeper  =
# ================
ZOOKEEPER_HOST=zookeeper
ZOOKEEPER_PORT=2181
ALLOW_ANONYMOUS_LOGIN=yes

# =======================================
# =   Kafka Brokers Common Properties   =
# =======================================
KAFKA_CFG_LISTENER_SECURITY_PROTOCOL_MAP_INTERNAL=PLAINTEXT
KAFKA_CFG_LISTENER_SECURITY_PROTOCOL_MAP_EXTERNAL=PLAINTEXT
KAFKA_CFG_ZOOKEEPER_CONNECT=${ZOOKEEPER_HOST}:${ZOOKEEPER_PORT}
KAFKA_INTER_BROKER_LISTENER_NAME=INTERNAL
ALLOW_PLAINTEXT_LISTENER=yes

# =========================
# =     Kafka Broker 1    =
# =========================
KAFKA_1_HOST=kafka1
KAFKA_1_INTERNAL_PORT=29092
KAFKA_1_EXTERNAL_PORT=9092
KAFKA_1_CFG_LISTENERS_INTERNAL=//:${KAFKA_1_INTERNAL_PORT}
KAFKA_1_CFG_LISTENERS_EXTERNAL=//:${KAFKA_1_EXTERNAL_PORT}
KAFKA_1_CFG_ADVERTISED_LISTENERS_INTERNAL=//${KAFKA_1_HOST}:${KAFKA_1_INTERNAL_PORT}
KAFKA_1_CFG_ADVERTISED_LISTENERS_EXTERNAL=//${KAFKA_1_HOST}:${KAFKA_1_EXTERNAL_PORT}
KAFKA_1_PORT_1=${KAFKA_1_EXTERNAL_PORT}
KAFKA_1_PORT_2=${KAFKA_1_INTERNAL_PORT}

# =========================
# =     Kafka Broker 2    =
# =========================
KAFKA_2_HOST=kafka2
KAFKA_2_INTERNAL_PORT=29093
KAFKA_2_EXTERNAL_PORT=9093
KAFKA_2_CFG_LISTENERS_INTERNAL=//:${KAFKA_2_INTERNAL_PORT}
KAFKA_2_CFG_LISTENERS_EXTERNAL=//:${KAFKA_2_EXTERNAL_PORT}
KAFKA_2_CFG_ADVERTISED_LISTENERS_INTERNAL=//${KAFKA_2_HOST}:${KAFKA_2_INTERNAL_PORT}
KAFKA_2_CFG_ADVERTISED_LISTENERS_EXTERNAL=//${KAFKA_2_HOST}:${KAFKA_2_EXTERNAL_PORT}
KAFKA_2_PORT_1=${KAFKA_2_EXTERNAL_PORT}
KAFKA_2_PORT_2=${KAFKA_2_INTERNAL_PORT}


# =========================
# =     Kafka Broker 3    =
# =========================
KAFKA_3_HOST=kafka3
KAFKA_3_INTERNAL_PORT=29094
KAFKA_3_EXTERNAL_PORT=9094
KAFKA_3_CFG_LISTENERS_INTERNAL=//:${KAFKA_3_INTERNAL_PORT}
KAFKA_3_CFG_LISTENERS_EXTERNAL=//:${KAFKA_3_EXTERNAL_PORT}
KAFKA_3_CFG_ADVERTISED_LISTENERS_INTERNAL=//${KAFKA_3_HOST}:${KAFKA_3_INTERNAL_PORT}
KAFKA_3_CFG_ADVERTISED_LISTENERS_EXTERNAL=//${KAFKA_3_HOST}:${KAFKA_3_EXTERNAL_PORT}
KAFKA_3_PORT_1=${KAFKA_3_EXTERNAL_PORT}
KAFKA_3_PORT_2=${KAFKA_3_INTERNAL_PORT}

# ===============
# =  KAFDROP    =
# ===============
KAFDROP_PORT=9000
KAFKA_BROKERCONNECT=${KAFKA_1_HOST}:${KAFKA_1_INTERNAL_PORT},${KAFKA_2_HOST}:${KAFKA_2_INTERNAL_PORT},${KAFKA_3_HOST}:${KAFKA_3_INTERNAL_PORT}
JVM_OPTS=-Xms32M -Xmx64M
SERVER_SERVLET_CONTEXTPATH=/

# ===============
# Redis Cluster =
# ===============
REDIS_PASSWORD=redis
REDIS_NODES=redis-node-0 redis-node-1 redis-node-2 redis-node-3 redis-node-4 redis-node-5
REDISCLI_AUTH=${REDIS_PASSWORD}
REDIS_CLUSTER_REPLICAS=1
REDIS_CLUSTER_CREATOR=yes

# ==================
# Network Elements =
# ==================
SERVER_SERVLET_CONTEXT_PATH=/api
MANAGEMENT_ENDPOINTS_WEB_BASE_PATH=/
MANAGEMENT_ENDPOINTS_WEB_EXPOSURE_INCLUDE=health
SPRING_CLOUD_CONSUL_DISCOVERY_HEALTHCHECKPATH=${SERVER_SERVLET_CONTEXT_PATH}/health

## POSTGRES
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_DB=network_elements
POSTGRES_PORT=5432
POSTGRES_HOSTNAME=network-elements-db
POSTGRES_URL=jdbc:postgresql://${POSTGRES_HOSTNAME}:${POSTGRES_PORT}/${POSTGRES_DB}

## SPRING / JPA
SPRING_PROFILES_ACTIVE=prod
SPRING_APPLICATION_NAME=network_elements
SPRING_JPA_DATABASE_PLATFORM=org.hibernate.dialect.PostgreSQLDialect

## Network Elements
NETWORK_ELEMENTS_HOST=network-elements
NETWORK_ELEMENTS_PORT=8080

## Data Source
SPRING_DATASOURCE_URL=${POSTGRES_URL}
SPRING_DATASOURCE_DRIVERCLASSNAME=org.postgresql.Driver
SPRING_DATASOURCE_USERNAME=${POSTGRES_USER}
SPRING_DATASOURCE_PASSWORD=${POSTGRES_PASSWORD}
SPRING_DATASOURCE_INITIALIZATION_MODE=never

## Redis
SPRING_CACHE_TYPE=${REDIS_PASSWORD}
SPRING_REDIS_CLUSTER_NODES=redis-node-0:6379,redis-node-1:6379,redis-node-2:6379,redis-node-3:6379,redis-node-4:6379,redis-node-5:6379
SPRING_REDIS_PASSWORD=redis
SPRING_REDIS_CLUSTER_MAX_REDIRECTS=3
SPRING_REDIS_POOL_MAX_IDLE=8
SPRING_REDIS_POOL_MIN_IDLE=0
SPRING_REDIS_POOL_MAX_ACTIVE=-1
SPRING_REDIS_POOL_MAX_WAIT=-1


## Kafka
SPRING_KAFKA_BOOTSTRAP_SERVERS=${KAFKA_BROKERCONNECT}
SPRING_KAFKA_PRODUCER_KEY_SERIALIZER=org.apache.kafka.common.serialization.StringSerializer
SPRING_KAFKA_PRODUCER_VALUE_SERIALIZER=io.confluent.kafka.serializers.KafkaAvroSerializer
SPRING_KAFKA_PRODUCER_PROPERTIES_SCHEMA_REGISTRY_URL=http://schema-registry:8081

# ===========================
# Confluent Schema Registry =
# ===========================
SCHEMA_REGISTRY_HOST_NAME=schema-registry
SCHEMA_REGISTRY_KAFKASTORE_BOOTSTRAP_SERVERS=${KAFKA_BROKERCONNECT}
SCHEMA_REGISTRY_PORT=8081


